<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <title>HM GPT</title>
    </head>
    <body>
        <nav class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">HM GPT</a>
                </div>
            </div>
        </nav>

        <div class="container">
            <h3>Please enter your email to start.</h3>
            <div class="row">
                <form action="." method="POST">
                    <input type="email" name="user_email" id="user_email" placeholder="your_email@someplace.com" class="form-control"></textarea>
                    <br/>
                    <input type="submit" name="action" value="Start" class="btn btn-primary" id="default_button" disabled>
                </form>
            </div>
        </div><!-- /.container -->

        <script>
            const user_email = document.getElementById('user_email');
            const submitButton = document.getElementById('default_button');

            // Function to validate email format
            function validateEmail(user_email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Simple email regex pattern
                return re.test(user_email.toLowerCase());
            }

            // Enable or disable the submit button based on valid email input
            user_email.addEventListener('input', function() {
                const isValid = validateEmail(this.value);
                submitButton.disabled = !isValid;
            });

            // // Enable or disable the submit button based on textarea content
            // user_email.addEventListener('input', function() {
            //     submitButton.disabled = !this.value.trim(); // Disable button if textarea is empty or just whitespace
            // });

            // Focus the textarea on page load
            window.onload = function() {
                user_email.focus();
            };
        </script>

    </body>
</html>
